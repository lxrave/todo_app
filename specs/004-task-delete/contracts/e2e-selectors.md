# Контракт: селекторы E2E для удаления задачи (004-task-delete)

Дополнение к общему контракту селекторов (002-todo-e2e-headless). E2E-сценарии удаления полагаются на стабильные точки взаимодействия.

## Удаление задачи

- **Кнопка удаления (иконка корзины)**:
  - Расположена справа внутри карточки задачи (внутри элемента задачи, после текста и приоритета).
  - Рекомендуемый селектор: кнопка с `aria-label="Удалить задачу"` или `data-testid="task-delete-btn"` внутри карточки (`.task-item` или аналог).
  - Действие: клик/тап по кнопке открывает диалог подтверждения.

- **Диалог подтверждения удаления**:
  - Роль: `role="dialog"` или `aria-modal="true"`.
  - Текст: «Удалить задачу «[текст задачи]»?» (подстановка названия задачи).
  - Кнопки:
    - Отмена: доступное имя «Отмена» (или `name: 'Отмена'` в getByRole('button')).
    - Подтверждение: доступное имя «Удалить» (или `name: 'Удалить'`).
  - Закрытие без удаления: кнопка «Отмена», клавиша Escape, клик по overlay (вне диалога).

## Рекомендуемые стратегии (Playwright)

- Найти карточку по тексту задачи (как в существующем page object), затем внутри неё — кнопку удаления: `taskCard.getByRole('button', { name: 'Удалить задачу' })` или по data-testid.
- Диалог: `page.getByRole('dialog')` с проверкой текста `getByText(/Удалить задачу/)`.
- Подтвердить удаление: `getByRole('button', { name: 'Удалить' })` внутри диалога.
- Отмена: `getByRole('button', { name: 'Отмена' })` или закрытие по Escape.

## Обслуживание

При изменении текстов кнопок, aria-label или разметки диалога обновить этот контракт и тесты в `tests/e2e/todo-delete.spec.ts` и page object.
