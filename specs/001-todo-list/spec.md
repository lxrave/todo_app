# Спецификация: Приложение для управления задачами (Todo List)

**Ветка фичи**: `001-todo-list`  
**Создано**: 2026-02-16  
**Статус**: Черновик  
**Ввод**: Простое приложение для управления задачами: пользователь может добавлять задачи, просматривать список, отмечать выполненными, переупорядочивать список перетаскиванием (мышь или тап).

## Пользовательские сценарии и проверки *(обязательно)*

### User Story 1 — Добавление задачи (Приоритет: P1)

Пользователь вводит текст новой задачи и подтверждает добавление. Задача появляется в списке и сохраняется.

**Почему этот приоритет**: Без добавления задач приложение не имеет смысла; это базовое действие.

**Независимая проверка**: Открыть приложение → ввести текст задачи → добавить → убедиться, что задача отображается в списке. Ценность: пользователь может начать вести список.

**Сценарии приёмки**:

1. **Дано** пустой список задач, **Когда** пользователь вводит текст и нажимает «Добавить» (или аналог), **Тогда** в списке появляется одна задача с этим текстом.
2. **Дано** список с несколькими задачами, **Когда** пользователь добавляет новую задачу, **Тогда** она появляется в списке (порядок по умолчанию задаётся правилами продукта, например в конец).

---

### User Story 2 — Просмотр списка задач (Приоритет: P2)

Пользователь видит все свои задачи в виде списка: текст каждой задачи и её статус (выполнена / не выполнена). Пустой список отображается явно (например, сообщением или пустым состоянием).

**Почему этот приоритет**: Просмотр — основная ценность после добавления; без него нельзя проверить сохранение и состояние.

**Независимая проверка**: Добавить одну или несколько задач → открыть/обновить экран списка → убедиться, что все задачи видны и отображаются корректно. Ценность: пользователь видит весь свой список.

**Сценарии приёмки**:

1. **Дано** ноль задач, **Когда** пользователь открывает экран списка, **Тогда** отображается пустое состояние (без падения и без скрытых элементов).
2. **Дано** одна или несколько задач, **Когда** пользователь открывает экран списка, **Тогда** все задачи отображаются с текстом и индикацией статуса выполнения.

---

### User Story 3 — Отметка задачи как выполненной (Приоритет: P3)

Пользователь может переключить статус задачи «не выполнена» ↔ «выполнена» (например, по клику/тапу по задаче или по чекбоксу). Изменение сразу отображается и сохраняется.

**Почему этот приоритет**: Ключевая функция управления задачами; после просмотра логично дать возможность отмечать выполнение.

**Независимая проверка**: Добавить задачу → отметить как выполненную → убедиться, что отображение изменилось и состояние сохранилось после перезагрузки/повторного открытия. Ценность: пользователь может вести учёт сделанного.

**Сценарии приёмки**:

1. **Дано** задача в статусе «не выполнена», **Когда** пользователь переключает её в «выполнена», **Тогда** задача отображается как выполненная и состояние сохраняется.
2. **Дано** задача в статусе «выполнена», **Когда** пользователь переключает её в «не выполнена», **Тогда** задача отображается как не выполненная и состояние сохраняется.

---

### User Story 4 — Переупорядочивание списка перетаскиванием (Приоритет: P4)

Пользователь может изменить порядок задач в списке путём перетаскивания (мышь на десктопе или тап/долгое нажатие + перетаскивание на мобильном). Новый порядок сохраняется и отображается при следующем открытии.

**Почему этот приоритет**: Улучшает удобство использования; не блокирует базовый MVP (добавление, просмотр, отметка).

**Независимая проверка**: Иметь минимум две задачи → перетащить одну выше/ниже → убедиться, что порядок изменился и сохранился. Ценность: пользователь может расставлять приоритеты в списке.

**Сценарии приёмки**:

1. **Дано** список из нескольких задач в порядке A, B, C, **Когда** пользователь перетаскивает задачу B выше A, **Тогда** порядок становится B, A, C и сохраняется.
2. **Дано** любой порядок задач, **Когда** пользователь завершает перетаскивание, **Тогда** новый порядок отображается сразу и сохраняется без потери данных.

---

### Граничные случаи

- Пустой ввод при добавлении: приложение не создаёт задачу с пустым текстом; пользователь получает понятную обратную связь (например, кнопка неактивна или сообщение).
- Очень длинный текст задачи: отображается без поломки интерфейса (обрезание, перенос или прокрутка — на усмотрение реализации); данные не теряются.
- Единственная задача в списке: переупорядочивание не должно приводить к ошибке (операция может быть no-op или просто сохранять порядок).
- Одновременное быстрое переключение статуса или перетаскивание: приложение остаётся стабильным, итоговое состояние согласовано после завершения действия.

## Требования *(обязательно)*

### Функциональные требования

- **FR-001**: Система ДОЛЖНА позволять пользователю добавлять новую задачу с текстовым описанием.
- **FR-002**: Система ДОЛЖНА отображать список всех задач с текстом и статусом (выполнена / не выполнена).
- **FR-003**: Система ДОЛЖНА позволять пользователю переключать статус задачи между «выполнена» и «не выполнена».
- **FR-004**: Система ДОЛЖНА сохранять список задач и их порядок так, чтобы после перезапуска приложения данные не терялись.
- **FR-005**: Система ДОЛЖНА позволять пользователю менять порядок задач путём перетаскивания (мышь или тач).
- **FR-006**: Система ДОЛЖНА не создавать задачу с пустым текстом и ДОЛЖНА давать пользователю понятную обратную связь при попытке добавить пустую задачу.
- **FR-007**: Система ДОЛЖНА обрабатывать ввод и действия пользователя без падений и без потери или порчи сохранённых данных.

### Ключевые сущности

- **Задача**: Элемент списка. Атрибуты: текст (описание), статус выполнения (выполнена / не выполнена), порядок в списке. Идентификация для сохранения и отображения — в рамках одной сессии/устройства.
- **Список задач**: Упорядоченная коллекция задач. Отображается пользователю как единый список; порядок определяется пользователем (в т.ч. перетаскиванием).

## Критерии успеха *(обязательно)*

### Измеримые результаты

- **SC-001**: Пользователь может добавить первую задачу и увидеть её в списке не более чем за 30 секунд с момента открытия приложения.
- **SC-002**: После перезапуска приложения все ранее добавленные задачи и их статусы отображаются без потери данных.
- **SC-003**: Пользователь может изменить порядок двух любых задач перетаскиванием за одно действие; новый порядок сохраняется.
- **SC-004**: При попытке добавить пустую задачу приложение не падает и не создаёт пустую запись; пользователь понимает, что нужно ввести текст (сообщение или поведение интерфейса).
