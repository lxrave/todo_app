# План реализации: Приложение для управления задачами (Todo List)

**Ветка**: `001-todo-list` | **Дата**: 2026-02-16 | **Спецификация**: [spec.md](./spec.md)  
**Ввод**: Спецификация фичи из `specs/001-todo-list/spec.md`. Дополнение: пользователь должен мочь перетаскивать задачи в списке (US4, FR-005).

## Summary

Реализовать простое веб-приложение для управления задачами: добавление, просмотр списка, отметка выполнения и **переупорядочивание перетаскиванием** (мышь или тап). Один фронтенд (SPA) без бэкенда; сохранение в localStorage. Стек: TypeScript, Vue 3, Vite, Pinia; тесты — Vitest. Перетаскивание: библиотека vue-draggable-next; список должен оставаться реактивным при добавлении задач (источник правды — store.tasks).

## Technical Context

**Language/Version**: TypeScript 5.x  
**Primary Dependencies**: Vue 3, Vite, Pinia, vue-draggable-next, sortablejs  
**Storage**: localStorage (ключ `todo-app-tasks`; структура — массив задач с полями id, text, completed, order)  
**Testing**: Vitest, @vue/test-utils  
**Target Platform**: браузер (десктоп и мобильный); поддержка мыши и тач для перетаскивания  
**Project Type**: single (одно веб-приложение, фронтенд только)  
**Performance Goals**: отображение списка до ~100 задач без заметной задержки; первый экран за &lt;3 с  
**Constraints**: офлайн-работа, без потери данных при перезагрузке; валидация пустого ввода; перетаскивание не должно ломать отображение новых задач  
**Scale/Scope**: один пользователь на устройство, один список задач, порядок сотен элементов не критичен

## Проверка соответствия конституции

*Шлюз: пройти до фазы 0 (исследование). Повторить после фазы 1 (дизайн).*

Проверить соответствие `.specify/memory/constitution.md`:

- **Чистый и поддерживаемый код**: Предлагаемая структура и именование соответствуют соглашениям проекта.
- **Тестируемость и код-ревью**: Изменения тестируемы; в ревью проверяется соответствие конституции.
- **Интуитивный и минималистичный UX**: Фича не добавляет лишней сложности; UX остаётся понятным.
- **Расширяемость**: Дизайн позволяет добавить фичу без нарушения существующего поведения.
- **Целостность данных**: Хранение и обработка данных сохраняют пользовательские данные; сценариев потери нет.
- **Устойчивость к ошибкам и валидация**: Валидация ввода и обработка ошибок учтены в объёме работ.
- **Стандарты качества кода**: Подход соответствует структуре, стилю и стандартам документации проекта.

Любое отступление ДОЛЖНО быть обосновано в блоке «Отслеживание сложности» ниже.

## Project Structure

### Documentation (this feature)

```text
specs/001-todo-list/
├── plan.md              # Этот файл
├── research.md          # Фаза 0
├── data-model.md        # Фаза 1
├── quickstart.md        # Фаза 1
├── contracts/           # Фаза 1 (типы/контракты хранилища и компонентов)
└── tasks.md             # Фаза 2 (/speckit.tasks — создаётся отдельно)
```

### Source Code (корень репозитория)

```text
src/
├── components/          # TaskForm, TaskList (с перетаскиванием), TaskItem
├── views/               # HomeView
├── stores/              # Pinia: todoStore (addTask, toggleTask, reorderTasks)
├── types/               # Task
├── composables/        # при необходимости
└── App.vue

tests/
├── unit/
└── e2e/                 # опционально

public/
index.html
```

**Structure Decision**: Один фронтенд-проект (Vite + Vue 3). Бэкенд не используется; данные в localStorage. TaskList отображает список из store (computed от store.tasks) и поддерживает перетаскивание через vue-draggable-next; при изменении порядка вызывается store.reorderTasks и сохраняется в localStorage.

## Complexity Tracking

Нарушений нет; таблица не заполняется.
