# Todo App

Простое веб-приложение для управления задачами: добавление, просмотр списка, отметка выполнения и переупорядочивание перетаскиванием (мышь или тач). Данные сохраняются в localStorage.

## Стек

- Vue 3, TypeScript, Vite, Pinia
- vue-draggable-next (перетаскивание)

## Команды

```bash
# Установка зависимостей
npm install

# Режим разработки
npm run dev

# Сборка для продакшена
npm run build

# Предпросмотр сборки
npm run preview

# Тесты
npm run test
npm run test:watch

# E2E (Playwright, headless). Сначала запусти приложение: npm run dev
npm run test:e2e
# Один раз перед первым E2E: npm run playwright:install
# Подробнее: specs/002-todo-e2e-headless/quickstart.md

# Линтинг и форматирование
npm run lint
npm run format
```

## Проверка по спецификации

После запуска `npm run dev` проверьте:

1. **Добавление** — ввод текста и кнопка «Добавить»; пустой ввод не создаёт задачу (кнопка неактивна).
2. **Просмотр** — список и пустое состояние отображаются корректно.
3. **Отметка** — переключение статуса по клику/чекбоксу; состояние сохраняется после перезагрузки.
4. **Перетаскивание** — смена порядка задач; порядок сохраняется после перезагрузки.

Подробные сценарии: `specs/001-todo-list/quickstart.md`.

## E2E-проверки

Автоматические сценарии (добавление, переключение, персистентность) в headless Chrome.

**Перед первым запуском E2E** обязательно установите браузер (иначе будет ошибка «Executable doesn't exist»):

```bash
npx playwright install
# или
npm run playwright:install
```

**Цикл запуска:**

1. Один раз установить браузер: `npm run playwright:install`
2. Запустить приложение: `npm run dev` (оставить работать)
3. В другом терминале: `npm run test:e2e`

**В чате агента / песочнице** тесты могут не выполняться. Варианты: (1) запускать e2e с разрешением на сеть (`network`); (2) при необходимости — с отключением песочницы (`all`); (3) поднять приложение вручную (`npm run dev`) и в агенте запускать `npm run test:e2e`.

Подробнее: [specs/002-todo-e2e-headless/quickstart.md](specs/002-todo-e2e-headless/quickstart.md)
